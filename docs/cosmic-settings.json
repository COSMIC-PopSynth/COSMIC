[
    {
        "category": "filters",
        "category_label": "Filters",
        "category_description": "Settings that filter the data returned by COSMIC simulations",
        "docs-colour": "cadetblue",
        "settings": [
            {
                "name": "binary_state",
                "description": "Filter for the final state of the binaries you wish to retain",
                "type": "checkbox",
                "options-preface": "Each binary system will end its evolution in one of three states. Use these options to retain only certain endstates.",
                "options": [
                    {
                        "name": 0,
                        "description": "Retain only binaries still alive today",
                        "default": true
                    },
                    {
                        "name": 1,
                        "description": "Retains binaries that merged",
                        "default": true
                    },
                    {
                        "name": 2,
                        "description": "Retains binaries that were disrupted"
                    }
                ]
            },
            {
                "name": "timestep_conditions",
                "description": "Pick specific time resolutions to print at targeted stages of the binary evolution.",
                "type": "string",
                "options-preface": "This is used in conjunction with the [bse] section value dtp to determine the timestep resolution for printing to the bcm array. See the <a href='evolve/resolution.html'>related guide</a> for more information.",
                "options": [
                    {
                        "name": "dtp=None",
                        "description": "Only the final time step is printed to the bcm array",
                        "default": true
                    },
                    {
                        "name": "dtp=1.0",
                        "description": "Use 1 Myr timesteps for all evolutionary stages"
                    },
                    {
                        "name": "[['binstate==0', 'dtp=1.0']]",
                        "description": "Use 1 Myr timesteps for binaries until they merge or disrupt"
                    }
                ]
            }
        ]
    },
    {
        "category": "sampling",
        "category_label": "Sampling",
        "category_description": "Settings that change how the initial binary population is sampled",
        "docs-colour": "darkseagreen",
        "settings": [
            {
                "name": "sampling_method",
                "description": "Select which models to use to generate an initial sample of binary parameters at Zero Age Main Sequence",
                "type": "string",
                "options-preface": "",
                "options": [
                    {
                        "name": "independent",
                        "description": "Initialize binaries with independent parameter distributions for the primary mass, mass ratio, eccentricity, separation, and binary fraction"
                    },
                    {
                        "name": "multidim",
                        "description": "Initialize binaries with multidimensional parameter distributions according to <a href='http://adsabs.harvard.edu/abs/2017ApJS..230...15M'>Moe & Di Stefano 2017</a>",
                        "default": true
                    }
                ]
            },
            {
                "name": "SF_start",
                "description": "Sets the time in the past when star formation initiates in Myr.",
                "type": "number",
                "options-preface": "",
                "options": [
                    {
                        "name": 13700.0,
                        "description": "For example, this specifies a start time at the beginning of a Hubble time",
                        "default": true
                    }
                ]
            },
            {
                "name": "SF_duration",
                "description": "Sets the duration of constant star formation from ``SF_start`` in Myr.",
                "type": "number",
                "options-preface": "",
                "options": [
                    {
                        "name": 0.0,
                        "description": "A single burst of star formation",
                        "default": true
                    },
                    {
                        "name": 13700.0,
                        "description": "For example, this specifies a constant star formation rate over a Hubble time"
                    }
                ]

            },
            {
                "name": "metallicity",
                "description": "Sets the metallicity of the stellar population.",
                "type": "number",
                "options-preface": "COSMIC expects an <b>absolute</b> metallicity (i.e., <b>NOT</b> units of <i>zsun</i>)",
                "options": [
                    {
                        "name": 0.02,
                        "description": "For example, this sets the metallicity to approximately solar metallicity",
                        "default": true
                    }
                ]
            }
        ]
    },
    {
        "category": "convergence",
        "category_label": "Convergence",
        "category_description": "Settings that control the convergence of the simulation run with cosmic-pop",
        "docs-colour": "#a873dd",
        "settings": [
            {
                "name": "convergence_params",
                "description": "A list of parameters you would like to verify have converged to a single distribution shape when running cosmic-pop from the command line.",
                "type": "checkbox",
                "options-preface": "",
                "options": [
                    {
                        "name": "mass_1",
                        "description": "Primary mass",
                        "default": true
                    },
                    {
                        "name": "mass_2",
                        "description": "Secondary mass",
                        "default": true
                    },
                    {
                        "name": "sep",
                        "description": "Separation"
                    },
                    {
                        "name": "porb",
                        "description": "Orbital period",
                        "default": true
                    },
                    {
                        "name": "ecc",
                        "description": "Eccentricity",
                        "default": true
                    },
                    {
                        "name": "massc_1",
                        "description": "Primary core mass"
                    },
                    {
                        "name": "massc_2",
                        "description": "Secondary core mass"
                    },
                    {
                        "name": "rad_1",
                        "description": "Primary radius"
                    },
                    {
                        "name": "rad_2",
                        "description": "Secondary radius"
                    }
                ]
            },
            {
                "name": "convergence_limits",
                "description": "Specifies limits for parameters included in the <code>convergence_params</code> list.",
                "type": "string",
                "options-preface": "For each parameter specified  <code>convergence_limits</code>, the lower and upper limit must be included.",
                "options": [
                    {
                        "name": "{}",
                        "description": "No limits specified",
                        "default": true
                    },
                    {
                        "name": "{'mass_1' : [5, 10], 'sep' : [0, 10]}",
                        "description": "For example, this specifies that the primary mass must be between 5 and 10 solar masses, and the separation must be between 0 and 10 Rsun."
                    }
                ]
            },
            {
                "name": "pop_select",
                "description": "Selects the stage of the evolution at which you would like to check for convergence.",
                "type": "dropdown",
                "options-preface": "This will filter for systems that satisfy the <code>final_kstar1</code> and <code>final_kstar2</code> selections from the command line call of cosmic-pop at the following states:",
                "options": [
                    {
                        "name": "formation",
                        "description": "At binary formation",
                        "default": true
                    },
                    {
                        "name": "1_SN",
                        "description": "Just before the first supernova"
                    },
                    {
                        "name": "2_SN",
                        "description": "Just before the second supernova"
                    },
                    {
                        "name": "disruption",
                        "description": "Just before binary disruption"
                    },
                    {
                        "name": "final_state",
                        "description": "After the full evolution specified by the user-supplied evolution time"
                    },
                    {
                        "name": "XRB_form",
                        "description": "At the start of RLOF following the first supernova"
                    }
                ]
            },
            {
                "name": "match",
                "description": "Provides the tolerance for the convergence calculation and is calculated as \\({\\rm match} = \\log_{\\rm 10} (1 - {\\rm convergence})\\)",
                "type": "number",
                "options-preface": "",
                "options": [
                    {
                        "name": -5.0,
                        "description": "For example, this specifies a tolerance of \\(10^{-5}\\) for convergence",
                        "default": true
                    }
                ]
            },
            {
                "name": "apply_convergence_limits",
                "description": "Whether to filter the binary population (including the bcm, bpp, initC, and kick_info DataFrames) to only contain the binaries that satisfy the constraints from convergence_limits.",
                "type": "dropdown",
                "options-preface": "",
                "options": [
                    {
                        "name": "True",
                        "description": "Filter the binary population to only contain the binaries that satisfy the constraints from convergence_limits"
                    },
                    {
                        "name": "False",
                        "description": "Do not filter the binary population",
                        "default": true
                    }
                ]
            }
        ]
    },
    {
        "category": "rand_seed",
        "category_label": "Random Seed",
        "category_description": "Settings that control the random number generation used",
        "docs-colour": "#f0ba80",
        "settings": [
            {
                "name": "seed",
                "description": "Sets the seed for the random number generator (for <code>numpy.random.seed()</code>)",
                "type": "number",
                "options-preface": "",
                "options": [
                    {
                        "name": 42,
                        "description": "For example, this sets the seed to 42",
                        "default": true
                    }
                ]
            }
        ]
    },
    {
        "category": "bse",
        "category_label": "Binary physics",
        "category_description": "Settings that control the binary physics in the simulation",
        "docs-colour": "lightcoral",
        "settings": [
            {
                "name": "pts1",
                "description": "Sets the timestep modifier for main sequence stars (<code>dtp *= pts1</code>)",
                "type": "number",
                "settings-section": "Timesteps",
                "options-preface": "",
                "options": [
                    {
                        "name": 0.001,
                        "description": "Recommended value from <a href='https://ui.adsabs.harvard.edu/abs/2019arXiv190207718B/abstract'>Bannerjee+2019</a> for NS/BH progenitors",
                        "default": true
                    },
                    {
                        "name": 0.05,
                        "description": "Recommended value from <a href='https://ui.adsabs.harvard.edu/abs/2000MNRAS.315..543H/abstract'>Hurley+2000</a>"
                    }
                ]
            },
            {
                "name": "pts2",
                "description": "Sets the timestep modifier for Giant Branch (GB, CHeB, AGB, HeGB) stars (<code>dtp *= pts2</code>)",
                "type": "number",
                "options-preface": "",
                "options": [
                    {
                        "name": 0.01,
                        "description": "Recommended value from <a href='https://ui.adsabs.harvard.edu/abs/2000MNRAS.315..543H/abstract'>Hurley+2000</a>",
                        "default": true
                    }
                ]
            },
            {
                "name": "pts2",
                "description": "Sets the timestep modifier for HG, HeMS stars (<code>dtp *= pts3</code>)",
                "type": "number",
                "options-preface": "",
                "options": [
                    {
                        "name": 0.02,
                        "description": "Recommended value from <a href='https://ui.adsabs.harvard.edu/abs/2000MNRAS.315..543H/abstract'>Hurley+2000</a>",
                        "default": true
                    }
                ]
            },
            {
                "name": "zsun",
                "description": "Sets the metallicity of the Sun which primarily affects stellar winds.",
                "type": "number",
                "settings-section": "Metallicity",
                "options-preface": "Note that the wind prescriptions for OB stars are calibrated to zsun = 0.019 as described in <a href='https://ui.adsabs.harvard.edu/abs/2001A%26A...369..574V/abstract'>Vink+2001.</a>",
                "options": [
                    {
                        "name": 0.014,
                        "description": "Following <a href='https://ui.adsabs.harvard.edu/abs/2009ARA%26A..47..481A/abstract'>Asplund+2009</a>",
                        "default": true
                    }
                ]
            },
            {
                "name": "windflag",
                "description": "Selects the model for wind mass loss for each star",
                "type": "dropdown",
                "settings-section": "Stellar Winds",
                "options-preface": "",
                "options": [
                    {
                        "name": 0,
                        "description": "Standard SSE/BSE (<a href='https://ui.adsabs.harvard.edu/abs/2000MNRAS.315..543H/abstract'>Hurley+2000</a>)"
                    },
                    {
                        "name": 1,
                        "description": "StarTrack (<a href='https://ui.adsabs.harvard.edu/abs/2008ApJS..174..223B/abstract'>Belczynski+2008</a>)"
                    },
                    {
                        "name": 2,
                        "description": "Metallicity dependence for O/B stars and Wolf Rayet stars (<a href='https://ui.adsabs.harvard.edu/abs/2001A%26A...369..574V/abstract'>Vink+2001</a>, <a href='https://ui.adsabs.harvard.edu/abs/2005A%26A...442..587V/abstract'>Vink+2005</a>)"
                    },
                    {
                        "name": 3,
                        "description": "Same as 2, but LBV-like mass loss for giants and non-degenerate stars beyond the Humphreys-Davidson limit",
                        "default": true
                    }
                ]
            },
            {
                "name": "eddlimflag",
                "description": "Adjusts the dependence of mass loss on metallicity for stars near the Eddington limit (see <a href='https://ui.adsabs.harvard.edu/abs/2011A%26A...535A..56G/abstract'>Grafener+2011</a>, <a href='https://ui.adsabs.harvard.edu/abs/2018MNRAS.474.2959G/abstract'>Giacobbo+2018</a>).",
                "type": "dropdown",
                "options-preface": "",
                "options": [
                    {
                        "name": 0,
                        "description": "does not adjust metallicity dependence for stars near the Eddington limit",
                        "default": true
                    },
                    {
                        "name": 1,
                        "description": "adjusts metallicity dependence for stars near the Eddington limit as in <a href='https://ui.adsabs.harvard.edu/abs/2018MNRAS.474.2959G/abstract'>Giacobbo+2018</a>."
                    }
                ]
            },
            {
                "name": "neta",
                "description": "Reimers mass-loss coefficient (<a href='https://ui.adsabs.harvard.edu/abs/2000MNRAS.315..543H/abstract'>Equation 106 of SSE</a>).",
                "type": "number",
                "options-preface": "Note: this equation has a typo. There is an extra \\(\\eta\\) out front; the correct rate is directly proportional to \\(\\eta\\). See also <a href='https://ui.adsabs.harvard.edu/abs/1978A%26A....70..227K/abstract'>Kurdritzki+1978, Section Vb</a> for discussion.",
                "options": [
                    {
                        "name": 0.5,
                        "description": "Sets \\(\\eta\\) for Reimers mass loss to 0.5",
                        "default": true
                    }
                ]
            },
            {
                "name": "bwind",
                "description": "Binary enhanced mass loss parameter",
                "type": "number",
                "options-preface": "This parameter is used to enhance mass loss in binaries. See <a href='https://ui.adsabs.harvard.edu/abs/2000MNRAS.315..543H/abstract'>Hurley+2000, Eq. 12</a> for more information.",
                "options": [
                    {
                        "name": 0.0,
                        "description": "Sets the binary enhanced mass loss parameter, \\(B_w\\), from <a href='https://ui.adsabs.harvard.edu/abs/2000MNRAS.315..543H/abstract'>Hurley+2000, Eq. 12</a> to 0.0 (no effect on single stars)",
                        "default": true
                    }
                ]
            },
            {
                "name": "hewind",
                "description": "Helium star mass loss parameter",
                "type": "number",
                "options-preface": "\\( 10^{-13} {\\rm \\ \\texttt{hewind} \\ } L^{2/3}\\) gives He star mass-loss. Equivalent to \\(1 - \\mu\\) in the last equation on <a href='https://ui.adsabs.harvard.edu/abs/2000MNRAS.315..543H/abstract'>Hurley+2000, page 19</a>.",
                "options": [
                    {
                        "name": 0.5,
                        "description": "Sets the helium star mass loss parameter to 0.5",
                        "default": true
                    }
                ]
            },
            {
                "name": "beta",
                "description": "Wind velocity factor. \\( v_{\\rm wind}^2 \\propto \\beta\\), see <a href='https://ui.adsabs.harvard.edu/abs/2002MNRAS.329..897H/abstract'>Hurley+2002, Eq. 9</a>.",
                "type": "number",
                "options-preface": "",
                "options": [
                    {
                        "name": -1,
                        "description": "Follow StarTrack prescription for wind velocity factor, \\(\\beta_w\\), from <a href='https://ui.adsabs.harvard.edu/abs/2008ApJS..174..223B/abstract'>Belczynski+2008</a>",
                        "default": true
                    },
                    {
                        "name": 0.125,
                        "description": "Sets the wind velocity factor, \\(\\beta_w\\), to 0.125"
                    }
                ]
            },
            {
                "name": "xi",
                "description": "Wind accretion efficiency factor, which gives the fraction of angular momentum lost via winds from the primary that transfers to the spin angular momentum of the companion.",
                "type": "number",
                "options-preface": "Corresponds to \\(\\mu_w\\) in <a href='https://ui.adsabs.harvard.edu/abs/2002MNRAS.329..897H/abstract'>Hurley+2002, Eq. 11</a>",
                "options": [
                    {
                        "name": 0.5,
                        "description": "Sets the wind accretion efficiency factor, \\(\\xi_w\\), to 0.5",
                        "default": true
                    }
                ]
            },
            {
                "name": "acc2",
                "description": "Bondi-Hoyle wind accretion factor where the mean wind accretion rate onto the secondary is proportional to <code>acc2</code>. See <a href='https://ui.adsabs.harvard.edu/abs/2002MNRAS.329..897H/abstract'>Hurley+2002, Eq. 6</a>.",
                "type": "number",
                "options-preface": "This value is equivalent to \\(\\alpha_w\\) in <a href='https://ui.adsabs.harvard.edu/abs/2002MNRAS.329..897H/abstract'>Hurley+2002, Eq. 6</a>.",
                "options": [
                    {
                        "name": 1.5,
                        "description": "Sets the Bondi-Hoyle wind accretion factor, \\(\\alpha_w\\), to 1.5",
                        "default": true
                    }
                ]
            },
            {
                "settings-section": "Common-envelope",
                "settings-section-description": "Note: there are cases where a common envelope is forced regardless of the critical mass ratio for unstable mass transfer. In the following cases, a common envelope occurs regardless of the choices below:<ul><li><b>contact</b>: the stellar radii go into contact (common for similar ZAMS systems)</li><li><b>periapse contact</b>: the periapse distance is smaller than either of the stellar radii (common for highly eccentric systems)</li><li><b>core Roche overflow</b>: either of the stellar radii overflow their component's Roche radius (in this case, mass transfer from the convective core is always dynamically unstable)</li></ul>",
                "name": "alpha1",
                "description": "Common-envelope efficiency parameter which scales the efficiency of transferring orbital energy to the envelope. See <a href='https://ui.adsabs.harvard.edu/abs/2002MNRAS.329..897H/abstract'>Hurley+2002, Eq. 71</a>.",
                "type": "number",
                "options-preface": "This value is equivalent to \\(\\alpha\\) in <a href='https://ui.adsabs.harvard.edu/abs/2002MNRAS.329..897H/abstract'>Hurley+2002, Eq. 71</a>.",
                "options": [
                    {
                        "name": 1.0,
                        "description": "Sets the common-envelope efficiency parameter, \\(\\alpha\\), to 1.0",
                        "default": true
                    }
                ]
            },
            {
                "name": "lambdaf",
                "description": "Binding energy factor for common envelope evolution. The initial binding energy of the stellar envelope is proportional to \\(1 / \\lambda\\). See <a href='https://ui.adsabs.harvard.edu/abs/2002MNRAS.329..897H/abstract'>Hurley+2002, Eq. 69</a>.",
                "type": "number",
                "options-preface": "",
                "options": [
                    {
                        "name": "positive values",
                        "description": "uses variable lambda prescription detailed in appendix of <a href='https://ui.adsabs.harvard.edu/abs/2014A%26A...563A..83C/abstract'>Claeys+2014</a> where lambdaf is the fraction of the ionization energy that can go into ejecting the envelope; to use this prescription without extra ionization energy, set lambdaf = 0"
                    },
                    {
                        "name": 0.0,
                        "description": "As above, this is the default choice",
                        "default": true
                    },
                    {
                        "name": -1.0,
                        "description": "Uses a fixed value (i.e. fixes \\( \\lambda \\) to a value of -lambdaf)"
                    }
                ]
            }, 
            {
                "name": "ceflag",
                "description": "Selects the model to set the initial orbital energy (choose whether to use total mass of the stars instead of the core masses)",
                "type": "dropdown",
                "options-preface": "",
                "options": [
                    {
                        "name": 0,
                        "description": "Use the core masses of the stars to set the initial orbital energy (as in <a href='https://ui.adsabs.harvard.edu/abs/2002MNRAS.329..897H/abstract'>Hurley+2002 Eq. 70</a>)"
                    },
                    {
                        "name": 1,
                        "description": "Use the total mass of the stars to set the initial orbital energy (as in <a href='https://ui.adsabs.harvard.edu/abs/1990ApJ...358..189D/abstract'>de Kool 1990</a>)",
                        "default": true
                    }
                ]
            },
            {
                "name": "cemergeflag",
                "description": "Determines whether stars that begin a CE without a distinct core-envelope boundary automatically lead to merger in a CE. These systems include: kstars = [0,1,2,7,8,10,11,12].",
                "type": "dropdown",
                "options-preface": "Note that while the optimal choice is <code>cemergeflag=1</code> according to <a class='reference external' href='https://ui.adsabs.harvard.edu/abs/2008ApJS..174..223B/abstract'>Belczynski+2008</a>, <code>cemergeflag=0</code> allows for both options to be explored, since it is trivial to remove these systems from a population in post processing.",
                "options": [
                    {
                        "name": 0,
                        "description": "allows the CE to proceed (optimistic CE)"
                    },
                    {
                        "name": 1,
                        "description": "forces the stars to merge in the CE (pessimistic CE)",
                        "default": true
                    }
                ]
            },
            {
                "name": "cehestarflag",
                "description": "Uses fitting formulae from <a class='reference external' href='https://ui.adsabs.harvard.edu/abs/2015MNRAS.451.2123T/abstract'>Tauris+2015</a> for evolving RLO systems with a helium star donor and compact object accretor. NOTE: this flag will override <code>cekickflag</code> if set",
                "type": "dropdown",
                "options-preface": "",
                "options": [
                    {
                        "name": 0,
                        "description": "Do not use the fitting formulae from <a class='reference external' href='https://ui.adsabs.harvard.edu/abs/2015MNRAS.451.2123T/abstract'>Tauris+2015</a>",
                        "default": true
                    },
                    {
                        "name": 1,
                        "description": "Use the fitting formulae from <a class='reference external' href='https://ui.adsabs.harvard.edu/abs/2015MNRAS.451.2123T/abstract'>Tauris+2015</a> for final period only"
                    },
                    {
                        "name": 2,
                        "description": "Use the fitting formulae from <a class='reference external' href='https://ui.adsabs.harvard.edu/abs/2015MNRAS.451.2123T/abstract'>Tauris+2015</a> for both final mass and final period"
                    }
                ]
            },
            {
                "name": "qcrit",
                "description": "Selects model to determine critical mass ratios for the onset of unstable mass transfer and/or a common envelope during RLO. NOTE: this is overridden by <code>qcrit_array</code> if any of its values are non-zero.",
                "type": "dropdown",
                "options-preface": "The table below shows the values for <code>qcrit</code> across the choices of this flag and the kstar type. The equations in the table correspond to:<br>  - Eq.1: <code class='docutils literal notranslate'><span class='pre'>qc = 0.362 + 1.0/(3.0*(1.0 - massc(j1)/mass(j1)))</span></code> (from Hjellming & Webbink 1983)<br>  - Eq 2: <code class='docutils literal notranslate'><span class='pre'>qc = (1.67d0-zpars(7)+2.d0*(massc(j1)/mass(j1))**5)/2.13d0</span></code> (from Claeys+ 2014)",
                "options": [
                    {
                        "name": 0,
                        "description": "follows <a class='reference external' href='https://ui.adsabs.harvard.edu/abs/2002MNRAS.329..897H/abstract'>Section 2.6 of Hurley+2002</a> (Default BSE)"
                    },
                    {
                        "name": 1,
                        "description": "same as 0 but with <a class='reference external' href='https://ui.adsabs.harvard.edu/abs/1987ApJ...318..794H/abstract'>Hjellming &amp; Webbink 1987</a> for GB/AGB stars",
                        "default": true
                    },
                    {
                        "name": 2,
                        "description": "follows <a class='reference external' href='https://ui.adsabs.harvard.edu/abs/2014A%26A...563A..83C/abstract'>Table 2 of Claeys+2014</a>"
                    },
                    {
                        "name": 3,
                        "description": "same as 2 but with <a class='reference external' href='https://ui.adsabs.harvard.edu/abs/1987ApJ...318..794H/abstract'>Hjellming &amp; Webbink 1987</a> for GB/AGB stars"
                    },
                    {
                        "name": 4,
                        "description": "follows <a class='reference external' href='https://ui.adsabs.harvard.edu/abs/2008ApJS..174..223B/abstract'>Section 5.1 of Belcyznski+2008</a> except for WD donors which follow BSE"
                    },
                    {
                        "name": 5,
                        "description": "follows <a class='reference external' href='https://ui.adsabs.harvard.edu/abs/2019MNRAS.490.3740N/abstract'>Section 2.3 of Neijssel+2020</a>; mass transfer from stripped stars is always assumed to be dynamically stable"
                    }
                ]
            },
            {
                "name": "qcrit_array",
                "description": "User-defined values for critical mass ratios for the onset of unstable mass transfer and a common envelope during RLOF.",
                "type": "string",
                "options-preface": "Array of dimensions (1,16) specifying user-input values for the critical mass ratios that govern the onset of unstable mass transfer and a common envelope. Each item is set individually for its associated kstar, and a value of 0.0 will apply the prescription specified qcflag for that kstar.<br>NOTE: Recall from the start of this section that there are cases where a common envelope is forced regardless of the critical mass ratio for unstable mass transfer.",
                "options": [
                    {
                        "name": "[0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0]",
                        "description": "Default value, which applies the prescription specified by <code>qcrit</code> for each kstar type",
                        "default": true
                    }
                ]
            }
        ]
    }
]